:root{
  --cell:64px;
  --gap:8px;
  --bg:#0f172a; /* slate-900 */
  --panel:#111827; /* gray-900 */
  --card:#1f2937; /* gray-800 */
  --txt:#e5e7eb; /* gray-200 */
  --accent:#22d3ee; /* cyan-400 */
  --good:#34d399; /* green-400 */
  --warn:#f59e0b; /* amber-500 */
  --bad:#fb7185; /* rose-400 */
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;
  background:radial-gradient(1200px 800px at 20% 10%,#1e293b 0%,#0b1222 60%,#030712 100%);
  color:var(--txt)
}
header{
  display:flex;gap:12px;align-items:center;justify-content:space-between;
  padding:16px 20px;border-bottom:1px solid #2b3345;
  background:linear-gradient(180deg,rgba(255,255,255,.04),transparent)
}
.title{font-size:20px;font-weight:700;letter-spacing:.3px}
.stats{display:flex;gap:14px;align-items:center}
.badge{padding:6px 10px;border-radius:999px;background:var(--card);border:1px solid #2b3345;min-width:84px;text-align:center}
.badge b{color:var(--accent)}
main{display:grid;grid-template-columns:320px 1fr;gap:16px;max-width:1200px;margin:18px auto;padding:0 16px 32px}
@media (max-width: 980px){main{grid-template-columns:1fr}}
.side{background:var(--panel);border:1px solid #2b3345;border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:12px}
.side h2{margin:0 0 6px 0;font-size:16px;color:#c7d2fe}
.controls{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
button{appearance:none;border:none;background:var(--card);color:var(--txt);padding:10px 12px;border-radius:12px;border:1px solid #2b3345;cursor:pointer;transition:transform .05s ease,background .15s}
button:hover{background:#243044}
button:active{transform:translateY(1px)}
.primary{background:linear-gradient(180deg,#0ea5e9,#0284c7);border-color:#075985}
.good{background:linear-gradient(180deg,#10b981,#059669);border-color:#065f46}
.warn{background:linear-gradient(180deg,#f59e0b,#d97706);border-color:#92400e}
.bad{background:linear-gradient(180deg,#fb7185,#e11d48);border-color:#9f1239}
.board-wrap{display:flex;align-items:center;justify-content:center;position:relative}
.board{
  position:relative;display:grid;
  grid-template-columns:repeat(var(--cols),var(--cell));
  grid-auto-rows:var(--cell);gap:var(--gap);
  padding:12px;border-radius:18px;background:rgba(17,24,39,.6);
  border:1px solid #2b3345;backdrop-filter: blur(6px);
}
.tile{width:var(--cell);height:var(--cell);display:flex;align-items:center;justify-content:center;
  font-size:34px;border-radius:14px;background:#0b1020;border:1px solid #2b3345;box-shadow: inset 0 -4px 0 rgba(255,255,255,.04)}
.tile.obstacle{background:#1b2336}
.tile .id{display:none}
.tile.sel{outline:3px solid var(--accent);filter:drop-shadow(0 0 8px rgba(34,211,238,.35))}
.tile.matched{opacity:.2;transform:scale(.9)}
.path{position:absolute;inset:0;pointer-events:none}
.toast{position:fixed;left:50%;top:16px;transform:translateX(-50%);background:#111827;border:1px solid #2b3345;padding:8px 12px;border-radius:999px;color:var(--txt);opacity:0;transition:opacity .2s, transform .2s;}
.toast.show{opacity:1;transform:translateX(-50%) translateY(6px)}
.legend{display:grid;grid-template-columns:repeat(8,minmax(0,1fr));gap:6px;font-size:20px}
.footer{opacity:.7;font-size:12px;margin-top:auto}
.progress{height:8px;background:#0b1020;border:1px solid #2b3345;border-radius:999px;overflow:hidden}
.bar{height:100%;width:0;background:linear-gradient(90deg,#34d399,#22d3ee);}

/* v0.2 additions */
.sep{height:1px;background:#2b3345;margin:6px 0 10px}
.toggle{display:flex;align-items:center;gap:8px;font-size:14px;opacity:.9}
.toggle input{transform:translateY(1px)}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
button:disabled{opacity:.5;cursor:not-allowed;filter:grayscale(0.3)}
:focus-visible{outline:3px solid var(--accent);outline-offset:2px;border-radius:12px}
.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.55);
  display:flex;align-items:center;justify-content:center;backdrop-filter:blur(3px);z-index:20;
}
.overlay-card{
  background:#0b1020;border:1px solid #2b3345;border-radius:16px;
  padding:18px;min-width:280px;max-width:90vw;box-shadow:0 10px 30px rgba(0,0,0,.3)
}
.overlay-card h3{margin:.2rem 0 .4rem;font-size:18px}
.overlay-card .row{display:flex;gap:10px;margin:8px 0 6px}
.overlay-card .hint{opacity:.7;font-size:12px}
